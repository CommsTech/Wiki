---
title: Cloud Deployment and Operations
description: WGU Class c924 AWS Sysops associate
published: true
date: 2022-07-24T21:07:27.069Z
tags: AWS, Certification, WGU
editor: markdown
dateCreated: 2022-05-24T15:57:19.702Z
---

# Cloud Deployment and Operations - C924
# Amazon AWS Sysops Associate SOA-CO2
# Domain 1: Monitoring, Logging, and Remediation
## 1.1 Implement metrics, alarms, and filters by using AWS monitoring and logging services 
- Identify, collect, analyze, and export logs (for example, Amazon CloudWatch Logs, CloudWatch Logs Insights, AWS CloudTrail logs) 
- Collect metrics and logs using the CloudWatch agent
- Create CloudWatch alarms 
- Create metric filters 
- Create CloudWatch dashboards
- Configure notifications (for example, Amazon Simple Notification Service [Amazon SNS], Service Quotas, CloudWatch alarms, AWS Health events) 

## 1.2 Remediate issues based on monitoring and availability metrics 
- Troubleshoot or take corrective actions based on notifications and alarms 
- Configure Amazon EventBridge rules to trigger actions 
- Use AWS Systems Manager Automation documents to take action based on AWS Config rules

# Domain 2: Reliability and Business Continuity
## 2.1 Implement scalability and elasticity 
- Create and maintain AWS Auto Scaling plans 
- Implement caching 
- Implement Amazon RDS replicas and Amazon Aurora Replicas 
- Implement loosely coupled architectures 
- Differentiate between horizontal scaling and vertical scaling 

## 2.2 Implement high availability and resilient environments 
- Configure Elastic Load Balancer and Amazon Route 53 health checks 
- Differentiate between the use of a single Availability Zone and Multi-AZ deployments (for example, Amazon EC2 Auto Scaling groups, Elastic Load Balancing, Amazon FSx, Amazon RDS) 
- Implement fault-tolerant workloads (for example, Amazon Elastic File System [Amazon EFS], Elastic IP addresses) 
- Implement Route 53 routing policies (for example, failover, weighted, latency based)

## 2.3 Implement backup and restore strategies 
- Automate snapshots and backups based on use cases (for example, RDS snapshots, AWS Backup, RTO and RPO, Amazon Data Lifecycle Manager, retention policy) 
- Restore databases (for example, point-in-time restore, promote read replica) 
- Implement versioning and lifecycle rules 
- Configure Amazon S3 Cross-Region Replication 
- Execute disaster recovery procedures

### Backup and Restore Strategies

![](backup_features_of_aws.png)

RPO - Recovery point Objective (Data Loss)

RTO - Recovery Time Objective (Down Time)

![](rpovrto.png)

Data Lifecycle manager (for EBS Only)
- Under the EC2 Management Plane

AWS Backup (Multiple services)

##### Database restoration options
- Restoring to a point in time
	- Creates a new database instance
	- Recommended to choose the same or similar database instance size
	-  AWS Backup can also be used to restore an RDS database to a point in time
- Restoring from a database snapshot
	- Creates a new database instance
	- You ==CANNOT== restore from a snapshot that is both shared and encrypted
		- Instead, create a copy of the snapshot and restore from the copy
	- you ==CAN== restore from a snapshot and choose a diffrent storage type
- Promoting a read replica
	- When promoting a read replica, the database instance is rebooted
	- After promoting, it is the same as any other database instance

##### Disaster recovery options
![[Disaster_Recovery_Options.png]]




# Domain 3: Development, Provisioning, and Automation
## 3.1 Provision and maintain cloud resources 
- Create and manage AMIs (for example, EC2 Image Builder) 
- Create, manage, and troubleshoot AWS CloudFormation 
- Provision resources across multiple AWS Regions and accounts (for example, AWS Resource Access Manager, CloudFormation StackSets, IAM cross-account roles) 
- Select deployment scenarios and services (for example, blue/green, rolling, canary) 
- Identify and remediate deployment issues (for example, service quotas, subnet sizing, CloudFormation and AWS OpsWorks errors, permissions) 

## 3.2 Automate manual or repeatable processes 
- Use AWS services (for example, OpsWorks, Systems Manager, CloudFormation) to automate deployment processes 
- Implement automated patch management 
- Schedule automated tasks by using AWS services (for example, EventBridge, AWS Config)

# Domain 4: Security and Compliance
## 4.1 Implement and manage security and compliance policies 
- Implement IAM features (for example, password policies, MFA, roles, SAML, federated identity, resource policies, policy conditions) 
- Troubleshoot and audit access issues by using AWS services (for example, CloudTrail, IAM Access Analyzer, IAM policy simulator) 
- Validate service control policies and permissions boundaries 
- Review AWS Trusted Advisor security checks 
- Validate AWS Region and service selections based on compliance requirements 
- Implement secure multi-account strategies (for example, AWS Control Tower, AWS Organizations) 

## 4.2 Implement data and infrastructure protection strategies 
- Enforce a data classification scheme 
- Create, manage, and protect encryption keys 
- Implement encryption at rest (for example, AWS Key Management Service [AWS KMS]) 
- Implement encryption in transit (for example, AWS Certificate Manager, VPN) 
- Securely store secrets by using AWS services (for example, AWS Secrets Manager, Systems Manager Parameter Store) 
- Review reports or findings (for example, AWS Security Hub, Amazon GuardDuty, AWS Config, Amazon Inspector)

# Domain 5: Networking and Content Delivery
## 5.1 Implement networking features and connectivity 
- Configure a VPC (for example, subnets, route tables, network ACLs, security groups, NAT gateway, internet gateway)
	- ### NAT Gateways
		- **Should have been called** - 
		- **Use this to** - translate internal private IPs to an external Public IP 
		- **It's like** - a NAT Gateway...
		- NAT gateways provide outbound internet connectivity it does not provide inbound access.
		- A NAT Gateway provides internet connectivity to instances in private subnets. It performs Network address translation so that the source IP is translated to an internet routable IP address.
	- ### Internet Gateways
		- **Should have been called** -
		- **Use this to** - 
		- **It's like** -
		- You need to shutdown your VM for maintenance, but before you do you must stop the gateway and then reboot/shutdown
		- An egress-only internet gateway is a horizontally scaled, redundant, and highly available VPC component that allows outbound communication over IPv6 from your VPC
		- Configure private connectivity (for example, Systems Manager Session Manager, VPC endpoints, VPC peering, VPN) 
		- Configure AWS network protection services (for example, AWS WAF, AWS Shield) 

## 5.2 Configure domains, DNS services, and content delivery 
- Configure Route 53 hosted zones and records 
- Implement Route 53 routing policies (for example, geolocation, geoproximity) 
- Configure DNS (for example, Route 53 Resolver) 
- Configure Amazon CloudFront and S3 origin access identity (OAI) 
- Configure S3 static website hosting 

## 5.3 Troubleshoot network connectivity issues 
- Interpret VPC configurations (for example, subnets, route tables, network ACLs, security groups) 
- Collect and interpret logs (for example, VPC Flow Logs, Elastic Load Balancer access logs, AWS WAF web ACL logs, CloudFront logs) 
- Identify and remediate CloudFront caching issues 
- Troubleshoot hybrid and private connectivity issues

# Domain 6: Cost and Performance Optimization
## 6.1 Implement cost optimization strategies 
- Implement cost allocation tags 
- Identify and remediate underutilized or unused resources by using AWS services and tools (for example, Trusted Advisor, AWS Compute Optimizer, Cost Explorer) 
- Configure AWS Budgets and billing alarms 
- Assess resource usage patterns to qualify workloads for EC2 Spot Instances 
- Identify opportunities to use managed services (for example, Amazon RDS, AWS Fargate, EFS)

## 6.2 Implement performance optimization strategies 
- Recommend compute resources based on performance metrics 
- Monitor Amazon EBS metrics and modify configuration to increase performance efficiency 
- Implement S3 performance features (for example, S3 Transfer Acceleration, multipart uploads) 
- Monitor RDS metrics and modify the configuration to increase performance efficiency (for example, Performance Insights, RDS Proxy) 
- Enable enhanced EC2 capabilities (for example, enhanced network adapter, instance store, placement groups)

# Domain 7: Labs

# Which key tools, technologies, and concepts might be covered on the exam?
The following is a non-exhaustive list of the tools and technologies that could appear on the exam. This list is subject to change and is provided to help you understand the general scope of services, features, or technologies on the exam. The general tools and technologies in this list appear in no particular order. AWS services are grouped according to their primary functions. While some of these technologies will likely be covered more than others on the exam, the order and placement of them in this list is no indication of relative weight or importance: 

## Analytics: 
### Amazon Elasticsearch Service (Amazon ES) 

## Application Integration: 
### Amazon EventBridge (Amazon CloudWatch Events) 
**Previously called CloudWatch Events**
**Should have been called** - Serverless data connector
**Use this to** - Connect apps with data from sources

Receives an event, applies a rule, and routes event to a target

![[Amazon_EventBridge.png]]


### Amazon Simple Notification Service (Amazon SNS) 
**Should have been called**  - Amazon Messenger
**Use this to**   - Send mobile notifications, emails and/or SMS messages
**It's like**   - UrbanAirship, Twilio

Amazon Simple Notification Service (SNS) - provides a serverless publication/subscription platform for messaging

Simple Notification Server (SNS) supports the following subscription protocols

-   Kinesis Firehose
-   Amazon SQS (simple queuing service)
-   Aws Lambda
-   Email
-   HTTP(S) endpoints
-   Platform application endpoints
-   SMS (simple messaging service)

For a rate-based rule, enter the max number of requests to allow in any 5 minutes from an IP that matches the rule condition

### Amazon Simple Queue Service (Amazon SQS) 
**Should have been called**  - Amazon Queue
**Use this to**  - Store data for future processing in a queue. The lingo for this is storing "messages" but it doesn't have anything to do with email or SMS. SQS doesn't have any logic, it's just a place to put things and take things out.
**It's like**  - RabbitMQ, Sidekiq


## AWS Cost Management: 
### AWS Cost and Usage Report 
### AWS Cost Explorer
**Should have been called** -
**Use this to** - 
**It's like**   -

- Visualize and analyze cost and usage
- Forecast spending up to 12 months (and analyze 12 months of historical data)
- Provides recommendations about instances
- the Default reports can be customized
- Web ui is free but the API will charge you $0.01 per request
- Utilization and coverage reports
	- Reserved Instances (RI)
	- Savings plans
	
### Savings Plans 

## Compute: 
### AWS Application Auto Scaling 
### Amazon EC2 
**Should have been called**  - Amazon Virtual Servers
**Use this to**  - Host the bits of things you think of as a computer.
**It's like**  - It's handwavy, but EC2 instances are similar to the virtual private servers you'd get at Linode, DigitalOcean or Rackspace.

- “AWSSupport-TroubleshootSSH” installs the amazon EC2 Rescue tool and then checks for and corrects some issues that cause remote connection errors.
- EC2 Status checks do not tell you the status of an EBS volume

Troubleshooting EC2 Instances
-   Verify CodeDeploy agent is installed and running on the instance
-   Verify the correct IAM instance profile is attached to the instance
-   Verify the tags are set properly

![[EC2_Resources.PNG]]
- Cloudwatch metrics for EC2 Instances
	- CPU utilization
		- Percentage of allocated CPU
	- Burst
		- CPU Credit usage balance
	- Network I/O
		- Bytes/ number of packets
	- Status checks
		- for instance and systems
- **RAM is not included in default metrics for EC2**
	- You must install and configure CloudWatch agent on the EC2 Instance
	- This agent will push memory analytics
	- you will need to create a special IAM role to configure the agent
	
![[EC2_instance_Type.PNG]]

Instance Types
- General Purpose (M, T, A)
- Memory Optimized (R, X)
- Compute Optimized (C)
- Storage Optimized (I, D, H)
- Accelerated Computing (P, G, F)

Storage Options
- EBS Volume
	- Block storage
- Instance Store
	- Better I/O Performance 
	- Ephermeral storage
	- All data is lost if stopped or terminated
	- should only be used with scratch or temporary data
	- Size is fixed and you are responsible for backups


### Amazon EC2 Auto Scaling 
### Amazon EC2 Image Builder 
### AWS Lambda
**Should have been called** - AWS App Scripts
**Use this to** - Run little self contained snippets of JS, Java or Python to do discrete tasks. Sort of a combination of a queue and execution in one. Used for storing and then executing changes to your AWS setup or responding to events in S3 or DynamoDB.
**It's like**   - 

Compute Savings plans should be used when lambda usage is required

## Database: 
### Amazon Aurora 
**Should have been called** - 
**Use this to** - 
**It's like** - 

Aurora uses database clusters

- Backups 
	- Cluster volume backed up automatically during a daily preferred backup window
	- Retains restore data for the backup retention period (Defaults to 1 day)
	- Backups are continous and incremental
	- Manual snapshots are possible, and you can create a new database cluster from a snapshot
- Restore
	- Create a new database cluster from a backup or a snapshot
	- Can restore to any period of time in the backup retention period
	- Can also clone a database from one cluster to another
- Backtracking
	- Feature must be enabled when the database cluster is created
	- "Rewinds" the database cluster to a time you specify
		- Allows you to immediantly undo a destructive action
	- Does NOT require a new database cluster and rewind happens within minutes
	- Can use this repeatedly back and forth
	- Backtrack window is limited to 72 hours
	
### Amazon ElastiCache
**Should have been called**  - Amazon Memcached
**Use this to**  - Be your app's Memcached or Redis.
**It's like**   - Redis to Go, Memcachier

- With Amazon ElasticCache Memcached engine you cannot modify the node type. The way to scale up is to create a new cluster and specify the new node type. You can however, update the endpoint config in your application to point to the new endpoint.
- When using a single shard with cluster mode disabled you can create up to 5 replicas and the replicas can be in separate AZ as this adds High Availability with auto-failover.
- You can scale Elasticcache and Memcached clusters horizontally or vertically.

### Amazon RDS  
**Should have been called**  -  Amazon SQL
**Use this to** - Be your app's Mysql, Postgres, and Oracle database.
**It's like**  - Heroku Postgres

RDS handles failovers automatically. The primary DB will automatically switch to the standby replica if any of the following problems occur:
-   An AZ Outage
-   The Primary DB instance Fails
-   The DB instances server type is changed
-   The OS of the DB instance is undergoing patching
-   A manual failover of the DB instance was initiated using “Reboot with Failover”

RDS service includes backups, patching, failover detection, and recovery

RDS Multi-AZ Failover occurs in the following situations:
-   An Availability zone outage
-   The primary DB instance fails
-   The DB instance type is changed
-   The OS of the DB instance is undergoing patching
-   A Manual failover of the DB instance was initiated using a "Reboot with Failover"

DB Instance classes
- Standard (m)
- Memory Optimized (r, x)
- Burstable (t)

RDS Storage types 
- General perpose SSD (solid state drive)
	- Cost Effective
	- Can burst up to 3000 IOPS
- Provisioned IOPS SSD
	- Low Latency
	- Consistent throughput
- Magnetic
	- Kept for backwards compatability

- The Amazon Elastic File System (EFS) provides a filesystem interface to connect multiple AZ to a single filesystem using the NFS protocol
- After creating a cluster, you can immediately run queries by using the query editor on the amazon redshift console.
- One of the limitations of the cluster query editor is that you cannot use it with enhanced VPC routing

The Following are a few reasons why an instance might immediately terminate:
-   You’ve reached your EBS Volume limit
-   An EBS snapshot is corrupt
-   The root EBS volume is encrypted and you don’t have permission to access the key
-   The instance store-backed AMI that you used to launch the instance is missing a required part.

There are two ways to scale a database when you need the capacity to serve reads.
1.  Use a read replica
2.  Modify the RDS instance type to a larger instance.

The AWS config encrypted-volumes rule checks whether the EBS volumes that are in an attached state are encrypted

You can run volume gateways in two modes Cached and Stored.
- With cached volumes, the storage gateway service stores full volume in its S3 service bucket and a portion of the volume (recently accessed) in the gateway local cache

Amazon S3 inventory provides CSV output files that list your objects and their corresponding metadata on a daily or weekly basis for an S3 bucket or a shared prefix. The inventory reports will provide a definitive answer to the admin for how many objects are in a bucket.

To add HA to an existing RDS instance go into the console and enable multi-AZ

To share a snapshot with another account you must create a manual RDS snapshot with the create-db-snapshot command and share it to the destined account. Then they create a copy of their account.

Amazon RDS creates and saves automated backups of your Database instances during the backup window of your instance.

Amazon RDS provides metrics in real-time for the OS that your DB instance runs on. You can view the metric for your DB instance using the console. Enhanced monitoring JSON output from Cloudwatch logs in a monitoring system of your choice.


## Management, Monitoring, and Governance: 
### AWS CloudFormation 
**Should have been called**  - Amazon Services Setup
**Use this to**  - Set up a bunch of connected AWS services in one go.
**It's like**   - Openstack 

- Stack- A collection of resources to deploy as a group
- Template - A JSON or YAML File that describes the stack
- Change Set - Preview/Summary of proposed changes and how they will impact currently running resources
- Stackset - Create, Update, delete stacks across multiple accounts and regions. (Stacks that live across multiple accounts using the same template)
- Nested Stacks- stacks created as part of other stacks. (Stacks that are contained within a Parent Stack)

#### Deployment Options
Options for Sequencing and Dependencies

-   DependsOn
    -   Used to Specify that the creation of one resource follows another
    -   Controls the order in which your resources are created
    -   Does  not wait for signals of success or failure before moving on
-   Wait Conditions
    -   Pauses execution of a cloudformation template and waits for a success signal before continuing template execution
    -   Waits for success signals before resuming execution of CloudFormation template

#### Templates
- You can use the optional parameters section to customize your templates. Parameters enable you to input custom values to your templates each time you create or update a stack.

#### Change Sets
- Cloudformation change sets allows you to preview how proposed changes to a stack might impact your currently running resources.

#### Troubleshooting
- The `Rollback_Complete` status indicates successful removal of one or more stacks after a failed stack creation
- A “Stack Set” lets you create stacks in AWS accounts across regions by using a single cloud formation template

Delete Stack fails :
-   Some resources must be empty before deleting I.E. S3 buckets
-   Missing permissions to delete
-   Termination protection may be enabled on the stack
-   For nested stacks, the root stack has protection enabled

Rollback Failed :
-   Changes were made to resources outside of cloudformation
-   insufficient permissions
-   limitation error

### AWS CloudTrail
**Should have been called**  - Amazon API Logging
**Use this to**  - Log who is doing what in your AWS stack (API calls).
**It's like**   - 

- To determine whether a log file was modified, deleted, or unchanged after cloudtrail delivered it you can use cloudtrail log files integrity validation
- For an alarm to go off when there are no healthy instances the `HealthyHostCount` metric is `< = 0`

#### Cloudtrail Setup

Step 1 - Choose trail attributes

![](cloudtrail_step1.png)

![](cloudtrail_step1_1.png)

![](cloudtrail_step1_2.png)

Step 2 - Choose the Log Events

![](cloudtrail_step2.png)

**Note Click “Exclude AWS KMS events” to exclude KMS events. without this clicked it can be a bit noisy in the logs**

Step 3 - Review and Create

### Amazon CloudWatch 
**Should have been called**  - Amazon Status Pager
**Use this to**  - Get alerts about AWS services messing up or disconnecting.
**It's like**  - PagerDuty, Statuspage

Amazon Cloudwatch
- Collect
- Monitor
- Act
- Visualize
- Explore
- Analyze

Amazon Cloudwatch Components
- Metrics
- Logs
- Alarms
- Service Lens
- Insights
- Synthetics

Cloudwatch Data

1!Metrics - Quantitative Assessments

Logs - Records of events

Amazon Cloudwatch EC2 Metrics - (Under the monitoring tab)

**A ==detailed monitor== must be enabled if an alarm is to trigger in under 5 mins.**

A Cloudwatch alarm monitors a metric, and when defined thresholds are met or exceeded the alarm triggers an action.

You can create a Cloudwatch dashboard to display custom metrics by adding a widget and choosing metrics from the custom namespace.

Utilization data is not recorded in log files in Cloudwatch logs.

To store logs of terminated instances you must configure a unified Cloudwatch agent to stream the logs to Cloudwatch logs. This will ensure all logs are up to date at the point of termination.

VPC flow logs can be enabled on either the NAT Gateway ENI or the VPC. Cloudwatch insights can then be used to filter data based on source IP

Server access logging provides detailed records for the requests that are made to a bucket. There the access logs should be recorded in a separate, dedicated bucket. Access logs include information such as requests, the remote IP, and the Bucket being accessed. 

### AWS Command Line Interface (AWS CLI ) 
### AWS Compute Optimizer 
- Instance type recommendations between diffrent instance families
- It Utilizes Machine Learning
- Recommendations for:
	- Auto Scaling Groups
	- EBS Volumes
	- Lambda functions
	- EC2 Instances
  
### AWS Config
**Should have been called**  - Amazon Configuration Management
**Use this to**  - Keep from going insane if you have a large AWS setup and changes are happening that you want to track.
**It's like**   - 

- Provides detailed view of the configurations of AWS resources (regionally)
- Configurations are recorded and related to rules
- Works with most aws resources and services
- Region Specific (requires you to enable it in every region you want to use it in)
- Config managed rules and custom rules for defining the desired status
- AWS config rules can be implemented to identify non-compliant keys
- Works with SNS to trigger events
- Evaluates rules when changes are recorded

### AWS Control Tower
**Should have been called** -
**Use this to** - 
**It's like** -

- Orchestration Layer for multi-account creation within an organization
- Facilitates account deployment, provisioning and configuration.
- Leverages Account factory, landing zones, and guardrails
- Guardrails - Basically rules that provide ongoing governance for your aws account. There are two different types of guardrails

1.  Preventative
    1.  Prevents tings from happening much like SCP
2.  Detective
    1.  Alerts when action or configurations occur

### AWS License Manager 
### AWS Management Console 
### AWS OpsWorks 
**Should have been called**  - Amazon Chef
**Use this to**  - Handle running your application with things like auto-scaling.
**It's Like** -

Deployment issues troubleshooting

-   Unable to manage instance
    -   Usually occurs if a dependent resource was edited or deleted
-   Instance stuck in “booting” Status
    -   Check VPC configuration to ensure instances can connect to all required services
-   Instances wont boot after chef run
    -   Check that your version of chef is supported by the cookbook
    
### AWS Organizations
**Should have been called** -
**Use this to** - 
**It's like** -

AWS Organization features

-   AWS Organization provides account consolidation and management service
-   Hierarchical groupings of your aws accounts
-   Provides consolidated billing: root member account pays for the member accounts
-   Enable services and features across the organization
-   Service Control Policys (SCPs) allow granular allows/denies of api actions

In AWS Organizations SCP are a type of organization policy that you can use to manage permissions in your organization. SCPs offer central control over the maximum available permissions for all accounts in your organization

The SSM Agent must be installed on the instances you want to connect to through sessions a custom AMI may not have an SSM agent i nstalled and an administrator may need to install it. By default, SSM doesn’t have permission to perform actions on your instances.

For a workflow to open the AWS management console on behalf of a user an AWS SSO endpoint is required instead of directly calling the `AssumeRole with SAML API`. The endpoint calls the API for the user and returns a URL that automatically redirects the users browser to the AWS management console.

AD Connector is designed to give you an easy way to establish a trust relationship between your active directory and AWS.

The `AMI ID does not exist` indicates that the AMI might have been deleted after creating the launch config. As it is not possible to update the launch configs, a new config must be created with a valid AMI. It can also be an indicator that the AMI does not exhist in that region.

AWS system manager parameter store provides secure, hierarchical storage for configuration data management and secrets management.

### AWS Personal Health Dashboard 
### AWS Secrets Manager 
### AWS Service Catalog 
### AWS Systems Manager
**Should have been called**  - 
**Use this to**  - View and control AWS infrastructure
**It's Like** -

- Leverages Managed instances to configure and maintain compute compliance.
- Logical grouping is done via tags known as resource tags.
- Contains several capabilities grouped into "Categories".
- Simplifies resource and application management at scale
- SSM leverages an SSM Agent (Amazon Linux images have this installed by default)
- Collect and Inventory patches of servers
- Allows for command execution 
- Allows storing configurations in secrets manager

#### Patch Manager
- Uses patch baselines to auto approve or auto reject patches
- Leverages Maintenance windows to define approved/denied times for patching
- Groups instances using patch groups to assign to a patch baseline (uses resource tags)
- View instance compliance status for all managed instances
- All patch updates get executed using `Run Command`.

#### Session Manager
- Provides centralized access control to instances
- Uses IAM policies to contol access
- No open ports or bastion hosts required
- Session Manager features include
	- Includes support for windows, linux and macOS
	- can be used for console, CLI or SDK access
	- Sessions can be logged
	- all sessions within the session manager are encrypted
	
### AWS Systems Manager Parameter Store 
**Should have been called** -
**Use this to** - 
**It's like**   - 

- No additional cost for access or utilization
- Secrets can be encrypted (optional)
- Stores values up to 4KB in size

### AWS tools and SDKs 
### AWS Trusted Advisor
**Should have been called**  - Amazon Pennypincher
**Use this to**  - Find out where you're paying too much in your AWS setup (unused EC2 instances, etc.).
**It's like**   - 

- Contains a collection of best practices from AWS
- Checks accounts for best practices and builds reports based on findings
-   Basic or developer support plans support:
    -   All Security service limit checks
    -   Up to Six Security Checks
-   Business or enterprise support plans support:
    -   All checks are allowed


## Migration and Transfer: 
### AWS DataSync 
### AWS Transfer Family 

## Networking and Content Delivery: 
### AWS Client VPN 
### [Amazon Cloudfront](obsidian://open?vault=Wiki&file=Virtual%20Infrastructure%2FAWS%2FCloudFront)

**Should have been called** - Amazon CDN
**Use this to**  - Make your websites load faster by spreading out static file delivery to be closer to where your users are.
**It's like**  - MaxCDN, Akamai

Amazon CloudFront can be used to cache static content from an S3 Bucket. This helps improve performance for the delivery of static content to the end user. Adding an auto-scaling group to the solution will enable the web servers to scale based on demand

- Leverages edge locations around the world to provide cached content to edge locaions

### Elastic Load Balancing 
**Should have been called** -
**Use this to** - 
**It's like** -
Elastic Load Balancing (ELB) provides access logs that capture detailed infomation about requests to your load balancer instances

- Load Balancer
- Listeners (1 or more listening to ports)
- Directed to Target groups

##### Monitoring for ELBS
- Cloudwatch Metrics
- Access Logs
- Request tracing
- Cloudtrail Logs
- Instance Logs

##### Common Issues on ELBS
- Target issues
	- Instance state
	- Health Checks
	- Security groups and ACLs
	- Availability Zones
	- Peered VPCs (need to be referred by ip not ID)
- Listener issues
	- Public subnet
	- Security group and ACLs
	- Client IP preservation (NLB)

#### Application Load Balancer (Layer 7)
**Should have been called** -
**Use this to** - 
**It's like** -
An Application load balancer will block malformed requests that do not meet the HTTP specification with a 400 bad request error

#### Network Load Balancer (Layer 4)

#### Gateway Load Balancer (Third party Devices)

#### Classic Load Balancer (EC2-Classic only)
### AWS Firewall Manager 
### AWS Global Accelerator 
### Amazon Route 53 
**Should have been called** - Amazon DNS
**Use this to** - Buy a new domain and set up the DNS records for that domain.
**It's like** - DNSimple, GoDaddy, Gandi

- Route 53 doesn’t charge for alias queries to AWS resources
- Can conduct helthchecks on ip or domain. TCP, HTTP or HTTPS
- Endpoints must be healthy to recieve traffic
- Route 53 alias can automatically evaluate target health

##### Geoproximity
- Requires the use of route 53 Traffic Flow
- Traffic flow is used to automate complex setups
### Amazon Route 53 Resolver 
### AWS Transit Gateway
**Should have been called** -
**Use this to** - 
**It's like** -

- Regional service
- Attach to any VPC
- Multiple transit gateways to connect VPCs across regions
- Equal cost multipath routing
- Multiple routing tables
- Connects to on-prem with VPNs or Dircet connect connections
### Amazon VPC (Virtual Private Cluters)
**Should have been called**  - Amazon Virtual Colocated Rack
**Use this to**  - Overcome objections that "all our stuff is on the internet!" by adding an additional layer of security. Makes it appear as if all of your AWS services are on the same little network instead of being small pieces in a much bigger network.
**It's like** - VLANs or L2 switching

Inter-Region VPC peering provides a simple and cost-effective way to share resources between regions or replicate data for geographic redundancy.

A 503 service unavailable error is most likely caused by too many requests in a short period of time.

AWS config restricted-common-ports check is used to check whether security groups in use do not allow unrestricted TCP traffic to specific ports

- You can peer any two VPCs together
- Data stays on the AWS backbone
- You can control traffic between the VPCs using NACLs
- Transit gateway is the preferred method to connect hundreds of VPCs
- By default, you can only have up to 5 non-default VPCs per AWS account
##### Interconnect options
- #### VPC Peering
	- Networking connection between two VPCs
	- Works with IPv4 and IPv6
	- Multi-account and multi-region
	- Traffic stays private on AWS network
	- ##### Unsupported Senearios
		- CIDR Overlap (just bad network pratice in general)
		- Transitive Peering
		- Edge to edge routing
- #### VPC Endpoints
- #### VPN Gateway
	- Managed by AWS
	- One per VPC
	- Multiple Availability zones
	- Connects to customer gateway
	- Two tunnels per connection
	- Static or Dynamic routing
	- ##### VPN Routing
		- Static or dynamic routing via BGP
		- BGP is preferred for routing and HA
		- Route Tables can ingest propagated routes
		- Route Preference (More specific wins)
			- BGP from Direct connect
			- Static to VGW
			- BGP from VGW
			- AS PATH and MED as tie breaker
	- ##### Common Errors
		- VPN Errors
			- Customer device configuration 
			- Tunnel settings
			- Incorrect routing information
		- Direct Connect errors
			- Physical device
			- Virtual Interface
			- BGP Peering
			- Incorrect routing information
- #### Thirdparty VPN
- ### Direct Connect
**Should have been called** - Pretty spot on actually
**Use this to** - Pay your Telco + AWS to get a dedicated leased line from your data center or network to AWS. Cheaper than Internet out for Data.
**It's like** - A toll road turnpike bypassing the crowded side streets.
	- Private connection to AWS network
	- Consistent network experiance
	- Connects to AWS services or VPC in any region
	- Multiple physical connection options
	- Multiple port speeds are available
	
- #### Transit Gateway
	- Regional Virtual Router
	- Supported connections
		- VPCs
		- VPN Connections
		- Direct connect gateways
		- Transit gateway peering
	- Cross-account support
	- Managed by AWS

##### Troubleshooting advanced network configs
- 

#### Security groups vs Network ACLs
##### Security Groups
- Associated with instance and interfaces 
- Allow rules only
- Stateful
- Order not important
- Security Groups can reference each other in rules

##### NACLs
- Associated with subnets
- Allow and Deny Rules
- Stateless
- Ordered lists
### Amazon VPC Traffic Mirroring 

## Security, Identity, and Compliance: 
### AWS Certificate Manager (ACM) 
### Amazon Detective 
**Should have been called**  - Amazon Private Investigator
**Use this to**  - Analyzes data to determine root cause of security issues
**It's like**   - 

- Combines data from other AWS sources
- Integrates with third party security tools
- Uses machine learning to analyze data
- Attempts to identiy the root cause of problems 
- Reports are produced in an easy to read graphical tool
### AWS Directory Service 
### Amazon GuardDuty
**Should have been called**  - Amazon Intrustion Prevention System
**Use this to** - Provides continuous monitoring security service
**It's like** - Mcafee, Norton

- Collects data from AWS accounts, network activity, and S3 buckets
- Can be used to automate remediation of instances
- Provides continuous security monitoring services
- AWS version of a managed IDS (Intrusion Detection System)
- Analyzes and processes a variety of data sources
- Leverages intelligent feeds to proactively identify and alert
- Monitors both AWS resources and AWS accounts

### AWS IAM Access Analyzer 
### AWS Identity and Access Management (IAM) 
**Should have been called**  - Users, Keys and Certs
**Use this to** - Set up additional users, set up new AWS Keys and policies.
**It's Like** - 

- IAM is a web service that helps you control access to your cloud resources
- The first user created is a root user, which should not be used
- Allows Granular control for both access and authorization
- IAM users are global users and user accounts can be used globally

##### IAM Best Practices
-   Enable MFA
-   Set Password policies
-   User roles over IAM users. Roles provide a more temporary access
-   Implement least privilege
-   Validate IAM Policies Regularly
-   Always use roles for resources

### Amazon Inspector 
**Should have been called**  - Amazon Auditor
**Use this to**  - Scans your AWS setup to determine if you've setup it up in an insecure way
**It's like** - Alert Logic

- Automated security assessment service to test network and software security state
- Used to target EC2 instances for vulnerability assessments
- Run assessments to discover potential security threats
- Finding include details and steps to remediate the vulnerabilitys
- Integrates with IAM and AWS systems manager
- The Amazon Inspector agent is an entity that collects installed package information and software configurations for an EC2 instance.
- Network accessibility analyzer for EC2 instances
- Analyzes applications for exposures and vulnerabilities
- Provides detailed reports of findings based on severity level

### AWS Key Management Service (AWS KMS) 
**Should have been called** -
**Use this to** - 
**It's like**   - 

- KMS is region specific- keys generated in that region are not available in other regions

#### AWS Managed Keys
- You can only modify the key policy at the time of creation

#### Customer-managed keys
- If you have the proper admin rights you can modify the key policy at any time

#### Custom key stores
### AWS License Manager 
### AWS Secrets Manager
**Should have been called** -
**Use this to** - 
**It's like**   - 

- Rotate secrets safely
- Manage secrets access with fine-grained policies
- Integrates with cloudtrail for auditing
- Replicates secrets across regions
- Built-in password generator
- Automated secret rotaion
- Cross account access
- Secrets are encrypted (required)
- Stored values up to 10KB in size

Step 1 - Choose one of the 5 secret types
Step 2 - Configure secret rotation (optional)
Step 3 - 

### AWS Security Hub
**Should have been called**  - Amazon Mall cop
**Use this to**  - Centralized service for managing security alerts
**It's like**   - 

- Inspects your security posture
- Aggregates findings from several AWS services
- Automates checks against industry standards
- Can be used to automate remediation
- AWS recommends using Security Hub with AWS organizations

### AWS Shield
**Should have been called** -
**Use this to** - 
**It's like** -

- Provides Managed DDoS protection as a service

#### AWS Shield Standard
- Free service provided by AWS
- Provides always on DDoS protection for AWS resources
- Static thresholds for supported AWS resource types, not your applications
- Sits between the outside world and your AWS deployed services
- Detects malicious traffic and adds protection in real time (Intrusion Prevention System (IPS))

#### AWS Shield Advance
- Paid service (Requires a 1 year commitment)
- Contains all the features of standard
- Offers tailored detection based off individual requirements
- Proactive event response
- DDoS cost protection
- Centralized protection management

### AWS WAF
**Should have been called**  - AWS Firewall
**Use this to**  - Block bad requests to Cloudfront protected sites (aka stop people trying 10,000 passwords against /wp-admin)
**It's like**  - Sophos, Kapersky

- Helps protect against commpn web exploits
- Centralized set of rules to filter traffic
- Block or Rate limit Bots
- Maintain rules automatically
- Provides real time metrics
- Integrate with AWS Firewall Manager

#### Configuring AWS WAF ACL
- Begin by describing the ACLs and its resources
- Add rules and rule groups
- Prioritise the rules
- Configure metrics for use in CloudWatch

## Storage: 
### Amazon Elastic Block Store (Amazon EBS) 
### Amazon Elastic File System (Amazon EFS) 
**Should have been called** - NFS FileServer
**Use this to** - mount nfs to linux
**It's like** - 

- Provides a managed files system that can be mounted to a linux server
- Uses the Network Files System (NFS)
- Can be shared across ec2 instances

### Amazon FSx 
#### Amazon FSx for windows file server
**Should have been called** - SMB Fileserver
**Use this to** - mount smb to windows
**It's like** - SMB, CIFS 

- Provides a fully managed file storage using the SMB Protocol and windows servers
- Can be single or multi-az deployments
### Amazon S3 
**Should have been called**  - Amazon Unlimited FTP Server
**Use this to**  - Store images and other assets for websites. Keep backups and share files between services. Host static websites. Also, many of the other AWS services write and read from S3.
**It's like**   - 

- S3 Glacier Vault lock allows you to easily deploy and enforce compliance controls for individual S3 glacier vaults with a vault lock policy.
- To restrict access to content in an S3 bucket whilst caching it globally Cloudfront can be used with an OAI. The Origin Access Identity is a special user created in CloudFront that is allowed to access the bucket through bucket permissions.

#### S3 Versioning
- Versioning is enabled and suspended at the bucket level, and is a means to keep multiple variants of an object
- Once versioning is enabled on a bucket, it can never be disabled; however, the bucket owner can suspend versioning
- Versioning state applies to all objects in the bucket
- Enabling versioning will give ==NEW== objects added a unique version ID, Exhisting objects will have a version ID of null and then get a unique version ID when modified in the future.
- Users can experiance `503` errors when submitting a put request, because there are millions of versions of objects in the bucket and S3 is throttling the requests

#### S3 Storage Lifecycle
- Used to store objects cost-efficently throughout their lifecycle by:
	- Trasitioning the object
		- Objects must be stored for a minimum of 30 days in standard storage before they can be transitioned
		- Cannot transition ==FROM== any storage calss ==TO== S3 Standard storage
	- Expiring the object
![[Amazon_S3_Storage_Classes.png]]

#### S3 Cross-region replication
- Allows you to store data closer to your users
- Allows you to store data closer to your compute resources
- Provides compliance if location specific requirements exhist
- Replication requires versioning to be enabled for the destination bucket

##### What gets replicated
- Objects added to a bucket after replication is configured
- Object metadata and tags
- Objects where bucket owner persmissions to read objects and ACLs
- Unencrypted objects
- Objects encrypted at rest under S3 managed keys (SSE-S3) or Customer master Keys (CMKs) stored in AWS key management Service (SSE-KMS)

##### What does NOT get replicated
- Objects that existed prior to configuring replicaiton
	- To do this contact AWS Support
- Objects where the bucket owner does not have permissions
- Objects that are stored in S3 Glacier or S3 Glacer Deep Archive storage class
- Objects created with server-sider encryption using customer-provided encryption keys (SSE-C)

##### Event Notifications
- S3 Generated notificsations triggred by specific events
- Targets can be SNS, SQS or Lamda
- Several predefined events by AWS for you to choose from
- Events are delivered in an "at least once" fashion (potential to recieve duplicate events)
- Create custom filters using key prefix's

### Amazon S3 Glacier 
**Should have been called**  - Really slow Amazon S3
**Use this to**  - Make backups of your backups that you keep on S3. Also, beware the cost of getting data back out in a hurry. For long term archiving.
**It's like**   - 


### AWS Backup 
### AWS Storage Gateway 
**Should have been called**  - S3 pretending it's part of your corporate network
**Use this to**  - Stop buying more storage to keep Word Docs on. Make automating getting files into S3 from your corporate network easier.
**It's like**   - 

# Out-of-scope AWS services and features
The following is a non-exhaustive list of AWS services and features that are not covered on the exam. These services and features do not represent every AWS offering that is excluded from the exam content. Services or features that are entirely unrelated to the target job roles for the exam are excluded from this list because they are assumed to be irrelevant. Out-of-scope AWS services and features include the following: 

- Amazon API Gateway
	- **Should have been called**  - API Proxy
	- **Use this to**  - Proxy your apps API through this so you can throttle bad client traffic, test new versions, and present methods more cleanly.
	- **It's like**  - 3Scale
- Amazon AppStream 2.0 
- AWS Batch 
- Amazon Chime 
- Amazon Cloud Directory 
- Amazon CloudSearch 
- AWS CodeBuild
	- **Should have been called** - 
	- **Use this to** - Build and test code.
	- **It's like** - 
	- CodeBuild is free to use
	- you are billed for the underlying resources that spin up during your building and testing
	- Tightly integrates with other AWS Services
	- Leverages 'buildspec.yml' for customizations
	- Utilizes four phases
		1) Install
		2) Pre Build
		3) Build
		4) Post Build
	- ###### Build Spec Example
		- ![[buildspec_yml_example.png]]

- AWS CodeCommit
	- **Should have been called** - Amazon GitHub
	- **Use this to** - Version control your code - hosted Git.
	- **It's like** - Github, BitBucket
- AWS CodeDeploy
	- **Should have been called** - Not bad
	- **Use this to** - Get your code from your CodeCommit repo (or Github) onto a bunch of EC2 instances in a sane way.
	- **It's like** - Heroku, Capistrano 
- AWS CodeStar 
- Amazon Connect 
- AWS Deep Learning AMIs (DLAMI) 
- AWS Device Farm 
- Amazon DynamoDB
	- **Should have been called**  - Amazon NoSQL
	- **Use this to**  - Be your app's massively scalable key valueish store.
	- **It's like**   - MongoLab
- Amazon DynamoDB Accelerator (DAX) 
- Amazon Elastic Container Registry (Amazon ECR) 
- Amazon Elastic Container Service (Amazon ECS) 
- Amazon Elastic Transcoder 
- Amazon EMR 
- Amazon GameLift 
- AWS IoT Button 
- AWS IoT Greengrass 
- AWS IoT Platform 
- Amazon Kinesis 
- Amazon Lex 
- Amazon Lightsail 
- Amazon Lumberyard 
- Amazon Machine Learning (Amazon ML) 
- AWS Managed Services 
- AWS Mobile Hub 
- AWS Mobile SDK 
- Apache MXNet on AWS 
- Amazon Pinpoint 
- Amazon Polly 
- Amazon Redshift 
	- **Should have been called**  - Amazon Data Warehouse
	- **Use this to**  - Store a whole bunch of analytics data, do some processing, and dump it out.
		- Fully managed, Petabyte-scale data warehouse service
		- OLAP type of database
		- ten times faster than traditional SQL database
		- Includes columnar storage, data compression, massively parallel processing architecture,
		- result caching and machiene learning to achieve high throughput
- Amazon Rekognition 
- AWS Schema Conversion Tool 
- Amazon Simple Email Service (Amazon SES) 
	- **Should have been called**  - Amazon Transactional Email
	- **Use this to**  - Send one-off emails like password resets, notifications, etc. You could use it to send a newsletter if you wrote all the code, but that's not a great idea.
	- **It's like**  - SendGrid, Mandrill, Postmark
- AWS Snowmobile 
- Amazon WorkDocs 
- Amazon WorkMail 
- Amazon WorkSpaces 
- AWS X-Ray





### Amazon Athena
**Should have been called** - Serverless Lookup
**Use this to** - Query services and analyze data in amazon S3.
**It's like**   - 

- Amazon Athena is a serverless query service that makes it easy to analyze large amounts of data stored in an Amazon S3 Using standard SQL.
- Using Athena with cloudtrail logs is a powerful way to enhance your analysis of AWS service activity. for example you can use queries to identify trends and further isolate activity by attributes, such as source IP address or user.


### Memcached
**Should have been called** -
**Use this to** - 
**It's like** -

Memcached is fast, multi-threaded, and designed for simplicity

### Redis
**Should have been called** -
**Use this to** - 
**It's like** -

Stands for Remote Dictionary server
Redis Supports snapshots, replication, and transactions








# Not Covered in the Exam Guide but mentioned in various online trainings
### Snowball
**Should have been called**  - AWS Big Old Portable Storage
**Use this to**  - Get a bunch of hard drives you can attach to your network to make getting large amounts (Terabytes of Data) into and out of AWS
**It's like**  - Shipping a Network Attached Storage device to AWS

### Firewalls
- A stateful firewall allows return traffic automatically
- A stateless firewall checks for an allow rule for both connections (in and out)

### Shared Responsibility Model

![aws_shared_responsibility_model.png](aws_shared_responsibility_model.png)

### Elastic Beanstalk
**Should have been called** - Amazon Platform as a Service
**Use this to** - Move your app hosted on Heroku to AWS when it gets too expensive.
**It's like** - Heroku, BlueMix, Modulus

- Platform as a service (PaaS) for developers
- AWS orchestrates applications and envioremnts using your code
- Allows users to focus on coding; infrastructure handled by AWS
- Only pay for the resources that Elastic beanstock spins up

### CodePipeline
**Should have been called**  - Amazon Continuous Integration
**Use this to** - Run automated tests on your code and then do stuff with it depending on if it passes those tests.
**It's like** - CircleCI, Travis

- Continuous delivery service
- Controls process from source to deployment
- Steps are seperated into "stages"
- Stages perfom actions: Single, Parallel, Sequential
- Ability to load artifacts and create artifacts
- Allows for manual approvals where required


### AWS Budgets and Billing Alarms
- Billing Alarms
	- Monitor incurred cost with Cloudwatch
	- Set up alarms if the cost threshold is exceeded
	- Enabling alerts inside of the billing dashboard
	- Billing data is stored in the US-East-1 region
- AWS Budgets 
	- Define budgets for specific AWS resources
	- Setup alarms when the cost exceeds the budget
	- More advanced then billing alarms (integrated with AWS Cost Explorer)
	- Setup alarms on the forcasted cost


### EC2 Purchasing options
- On-demand instances
	- Started and terminated at any time
	- Pay only for compute capacity you use
	- No long term commitment, or upfront costs
	- Used for auto scaling groups and unpredictable short term, irregular workloads that **cannot be interrupted** 
	- Great option for development and test enviorments
	- Great option for short term workloads
	
- Reserved instances
	- Most expensive option
	- Runs on dedicated hardware that is physically isolated from other AWS customers
	- Usually used to meet regulations and security requirements
	- Get discounts based off long term commitments (up to 72%)
	- Can reserve for 1 to three year terms
	- Upfront payments reduce the hourly rates
	- Used for predictable workloads with a steady state of usage patterns
	- Standard reserved instances
		- Provide a bigger discount
		- Can only be modified
		- Can be sold on the AWS Marketplace
		- Can change the AZ, instance size and networking type
	- Convertable Reserved instances
		- Can change instance family, OS, tenancy and payment option in addition to standard reserve instances possible modifications
		- Provide more flexibility
	- Payment Options
		- No Upfront
		- Partial Upfront
		- All Upfront
	
- Savings Plans
	- Great discount off On-demand instances by making long-term usage commitments (measured in $ per hour)
	- Commit to a consistent amount of compute usage for 1 or 3 year term. if you go over the commitment you will pay based off usage per hour for the additional usage
	- Used for steady state workloads that require some flexibility
	- Great for projects that uses a mixture of compute services
	- Savings Plan Types
		- EC2 instance savings plans
			- Provides a bigger discount
			- Commit to instance family and region
			- Can change the AZ, instance size, OS and tenancy
		- Compute savings plans
			- More flexibility
			- Can change instance family, instance size, AZ, region, OS and Tenancy
			- Also apply to fargate and lambda
			
- Dedicated Instances
	- Might share the dedicated hardware with other not dedicated instance from your account
	- After running the stopped instance, the new dedicated hardware might change to a diffrent physical machine
	- Pricing is comprised of hourly per instance usage fees and a dedicated per region fee ($2 per hour)
	
- Dedicated Hosts
	- Always the same dedicated machine
	- More insight into the host, you decide which instance will run on it
	- allows us to use exhisting per-socket, per-core or per-VM software licenses
	- You pay hourly for a single physical host based on the instance type
	
- Spot Instances
	- Spare EC2 compute capacity
	- Provides up to 90% savings
	- Each combination AZ. Instance size and type makes a distinct spot pool
	- Price fluctuates based on pool capacity and demand
	- If your maximum price is exceeded by the on-demand price your instance will get **interrupted**
	- You are provided a 2 min warning before instance is interrupted
	- You can implement a spot block that guarantees the instance will be available for 1 to 6 hours
	- Interrupted insances can be:
		- Terminated - lose all the data
		- Hibernated - saves the state in ram but you pay  for the storage
		- Stopped - saves EBS volume but you pay for the volume
	- Spot fleets 
		- Fulfilles your capacity requests by using multiple capacity pools
		- ensures more consistant savings
		- Fleet allocations strategies
			- Capacity optimized
			- Lowest price
			- Diversified across instance pools in the fleet
	- Workloads need to be resilient to failures and can withstand interruptions
	- Used for time insensitive workloads
		- Batch jobs, Dev, testing, one-time queries, and data analysis
	- Can be used for time sensitive workloads if they are:
		- Stateless
		- Fault tolerant
		- Loosely coupled
		- Multi-AZ
	- Examples
		- Big data
		- Web services
		- Contanerized workloads
		- API endpoints
		- Continous Iintergration / Continous Develpment
		- High performance computing
		- DNA sequencing
		- Media transcoding
		- Visual effects rendering
		- Image processing

### Keys, Crypto
- Key evictions occur when memory is overfilled or greater than the max memory setting in the cache resulting in the engine selecting keys to evict to manage memory

# Questions
[https://explore.skillbuilder.aws/learn/course/94/exam-readiness-aws-certified-sysops-administrator-associate](https://explore.skillbuilder.aws/learn/course/94/exam-readiness-aws-certified-sysops-administrator-associate)

[https://wgu.udemy.com/course/aws-certified-sysops-administrator-associate-aws-practice-exams]

(https://wgu.udemy.com/course/aws-certified-sysops-administrator-associate-aws-practice-exams)
![[AWS-Certified-SysOps-Administrator-Associate_Sample-Questions.pdf]]

1) If an admin is activating AWS cloudtrail and cloudtrail must be promptly re-enabled if deavtivated how would an admin accomplish this without writing custom code?
	- Create an AWS config that is invoked when CloudTrail config changes. Apply the AWS-ConfigureCloudtrailLogging automatic remediation action
	
2) Using route 53 with a dns record to xxx.tld. you want to distribute static assets for the website. You place Cloudfront into the circut. You want a subdomain called title and want to redirect traffic to the cloudfront disto through the subdomain. How would the Admin add a new record to route 53 for this subdomain?
	- Create an A record. enter title.xxx.tld as the record name and enter cloudfronts distro domain as an alias target.
	
3) You have multiple EC2 instances used to host a web application behind an Application load balancer. During random moments of higher traffic the applications performance degrades. What is the best way for an administrator to scale the program to accomidate the additional traffic?
	- Deploy an application auto scaling group in ec2 with a target tracking policy attached to the application load balancer.
	
4) You have a chef automated VM setup. You want to transfer the workload to EC2 instance and still use the current chef recipe. How would you do this cost effectively?
	- Setup OpsWorks for chef. Transfer the exhisting recipes and modify the EC2 instance user data to connect to the chef instance.
	
5) Your organization is utilizing AWS organizations to manage several AWS accounts. by default all users should have read-only access to specific S3 buckets under a specific account. Those buckets should not be accessible to anyone outside the organization. What is the best method of configuring the permissions on these S3 buckets?
		- Specify the wildcard of  ``*`` as the principal and `PrincipalOrgID` as the condition
	
6) You have a burstable EC2 instance hosting a website that is part of an auto scaling group. This group is set to scale at 70% utilization. Users are complaining slow speeds and error warnings for denied connections. After reviewing CloudWatch analytics you see only 20% utilization across the auto scaling group. Without modifiying the network architecture how would you rectify this issue?
	- Migrate the region so it is closer to the users attempting to access the site.
	
7) A business maintains an online shopping system. security (https) is provided by the gateway via a  TLS certificate on an ELB. Recently, there was an outage due to an expired TLS cert. How would the administrator prevent this problem in the future?
	- Request the cert utilizing AWS Certificate Manager. you would then associate the cert with the ELB. This will allow ACM to automatically renew the certificate in the future
	
8) An admin discovers an EC2 instance auto scaling group is scaling up. Cloudwatch has detected a rise in the ALB request count statistic. How will the Admin identify the originating IP address of these requests?
	- Look at the ALB access logs
	
9) You have four instances of EC2 in a VPC. One of these instances a gaming application is installed. You have seen a steady increase in response time as data is moved across the four instances. without altering the code what is the most effective method of reducing latency.
	- Restart the cluster placement group
	
10)  You are in the process of transferring a production AWS server to AWS. You want to make sure that when an Availibility zone become inaccessible or when system maitenance is conducted it remains active. the server must be accessible via SMB at all times and you must be able to manage the file permissions via windows ACLs. How would you accomplish this?
	- Migrate the production server to an Amazon FSx for windows instance utilizing the Multi-AZ function.
11)




x) What service can you use to be alerted about potential over-utilization in your AWS account?
	- AWS Budgets

X) Which service will provide you a forcasted cost analysis of your currently running AWS instances?
	- AWS Cost Explorer

x) Which budget/cost analysis service can you use from the web gui free of charge but have to pay for API access?
	- AWS Cost Explorer

## Amazon EC2 and AWS Lambda
| Exam Scenario                                                                                               | Solution                                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| Administrator needs to check if any Amazon EC2 instances will be affected by scheduled hardware maintenance | Check the AWS Personal Health Dashboard                                                                                                   |
| Scheduled hardware maintenance will affect a critical EC2 instance                                          | Stop and start the instance to move it to different underlying hardware                                                                   |
| When launching an EC2 instance the InsufficientInstanceCapacity error is experienced                        | This means AWS does not currently have enough capacity to service the request for that instance type. Try a different AZ or instance type |
| The error InstanceLimitExceeded is experienced when launching EC2 instances                                 | EC2 instance limits have been reached, need to contact support to request an increased limit                                              |
| System status checks are failing for an EC2 instance                                                        | Stop and start again to move to a new host                                                                                                |

## Elastic Load Balancing and Auto Scaling
| Exam Scenario                                                                                                                | Solution                                                                                                             |
|------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| Design required for highly available and secure website on EC2 with ALB, and DB on EC2                                       | Launch ALB in public subnets, web servers in private subnets and DB layer in private subnets – all layers across AZs |
| HealthyHostCount metrics for an ALB have dropped from 6 to 2. Need to determine the cause                                    | The health checks on target EC2 instances are failing                                                                |
| An instance attached to an ALB exceeded the UnhealthyThresholdCount for consecutive health check failures. What will happen? | Health checks will continue and the ALB will take the instance out of service                                        |
| Requirement to track the source IP of clients and the instance that processes the request                                    | Check the ALB access logs for this information                                                                       |
| 503 and 504 errors experienced and instances have high CPU utilization                                                       | Use EC2 Auto Scaling to dynamically scale                                                                            |

## Amazon EBS, EFS, and AWS Storage Gateway
| Exam Scenario                                                                                                                                               | Solution                                                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
| User deleted some data in an Amazon EBS volume and there’s a recent snapshot                                                                                | Can create a new EBS volume from the snapshot and attach it to an instance and copy the delete file across |
| EBS volume runs out of space and need to prevent it happening again                                                                                         | Use CloudWatch agent on EC2 and monitor disk metrics with CloudWatch alarm                                 |
| Low latency access required for image files in an office location with synchronized backup to offsite location. Local access required and disaster recovery | Use an AWS Storage Gateway volume gateway configured as a stored volume                                    |
| EBS volume capacity is increased but cannot see the space                                                                                                   | Need to extend the volume’s file system to gain access to extra space                                      |
| Need to replace user-shared drives. Must support POSIX permissions and NFS protocols and be accessible from on-premise servers and EC2                      | Use Amazon EFS                                                                                             |


## AWS Systems Manager
| Exam Scenario                                                                                                                                 | Solution                                                                                                                      |
|-----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| Application running on EC2 needs login credentials for a DB that are stored as secure strings in SSM Parameter Store                          | Create an IAM role for the instance and grant permission to read the parameters                                               |
| Linux instances are patched with Systems Manager Patch Manager. Application slows down whilst updates are happening                           | Change maintenance window to patch 10% of instances in the patch group at a time                                              |
| Custom Linux AMI used with AWS Systems Manager. Can’t find instances in Session Manager console                                               | Need to add permissions to instance profile and install the SSM agent on the instances                                        |
| Multiple environments require authentication credentials for external service. Deployed using CloudFormation                                  | Store credentials in SSM Parameter Store and pass an environment tag as a parameter in CloudFormation template                |   |
| IAM access keys used to manage EC2 instances using the CLI. Company policy mandates that access keys are automatically disabled after 60 days | Use an AWS Config rule to identify noncompliant keys. Create a custom AWS Systems Manager Automation document for remediation |

## AWS CloudFormation
| Exam Scenario                                                                                    | Solution                                                                                        |
|--------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
| Need to review updates to an AWS CloudFormation stack before deploying them in production        | Use change sets                                                                                 |
| Stack deployed and manual changes were made. Need to capture changes and update template         | Use drift detection and use output to update template and redeploy the stack                    |
| Need to update new version of app on EC2 and ALB. Must avoid DNS changes and be able to rollback | Update template with AutoScalingReplacingUpdate policy and perform an update                    |
| Need to write a single template that can be deployed across several environments / Region        | Use parameters to enter custom values and use Ref intrinsic function to reference the parameter |
| Tried to launch instance in a different region from a working template and it fails              | Probably due to incorrect AMI ID                                                                |


## Amazon Virtual Private Cloud (VPC)
| Exam Scenario                                                                                     | Solution                                                                                                  |
|---------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Need to identify the instances that are generating the most traffic using a NAT gateway           | Use VPC flow logs on the NAT gateway ENI and use CloudWatch insights to filter based on source IP address |
| Latency on a NAT instance has increased, need a solution that scales with demand cost-efficiently | Swap with a NAT gateway                                                                                   |
| NAT gateway is NOT highly available across AZs, only within an AZ                                 | Use multiple NAT gateways for HA across AZs                                                               |
| NAT instance deployed but not working                                                             | Make sure to disable source/destination checks                                                            |
| Need to enable access to S3 without the instances using public IP addresses                       | Use a NAT gateway or VPC endpoint                                                                         |


## Amazon Route 53

| Exam Scenario                                                                                                              | Solution                                                                                 |
|----------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| Use Route 53 to direct based on health checks with (2xx) traffic to primary and other responses to secondary               | Need to create an A record for each server and a HTTP (not TCP) health check             |
| Route 53 health check uses string matching for “/html”. Alert shows health check fails                                     | The search string must appear entirely within the first 5,120 bytes of the response body |
| Need to make a website promotion visible to users from a specific country only                                             | Use Route 53 geolocation routing policy                                                  |
| New website runs on EC2 behind ALB. Need to create record in Route 53 to point to the domain apex (e.g. example.com)       | Use an alias record                                                                      |
| Hosted zone in Account A and ALB in Account B. Need the most cost-effective and efficient solution for pointing to the ALB | Create an Alias record in Account A that points to ALB in Account B                      |


## Amazon S3 and CloudFront
| Exam Scenario                                                                                                              | Solution                                                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| Static website on Amazon S3 with custom domain name                                                                        | Requires that the bucket name matches the DNS name / record set name in Route 53                                                                   |
| 503 errors experienced with new site and thousands of user                                                                 | Request rate is too high                                                                                                                           |
| Discrepancy with number of objects in bucket console vs CloudWatch                                                         | Use Amazon S3 Inventory to properly determine the number of objects in a bucket                                                                    |
| Need to enforce encryption on all objects uploaded to bucket                                                               | Use a bucket policy with a “Condition”: { “Bool”: { “aws:SecureTransport”: “false” statement for PutObject and with the resource set to the bucket |
| Unauthorized users tried to connect to S3 buckets. Need to know which buckets are targeted and who is trying to get access | Use S3 server access logs and Athena to query for HTTP 403 errors and look for IAM user or role making requests                                    |


## Amazon RDS and ElastiCache
| Exam Scenario                                                                                       | Solution                                                                                                  |
|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Automated failover of a multi-AZ DB occurred                                                        | This may be due to storage failure on primary DB or the instance type could have been changed             |
| Need to encrypt unencrypted RDS database                                                            | Take a snapshot, encrypt it, then restore a new encrypted instance from the snapshot                      |
| RDS DB query latency is high and CPU utilization is at 100%                                         | Scale up with larger instance type                                                                        |
| Need to share RDS DB snapshots across different accounts. Data must be encrypted                    | Use an AWS KMS key for encryption and update key policy to grant accounts with access then share snapshot |
| DB needs to be made HA to protect against failure and updates cannot impact users in business hours | Change to Multi-AZ outside of business hours                                                              |

## Management, Governance and Billing

| Exam Scenario                                                                                                  | Solution                                                                                                                                                           |
|----------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Audit requests to AWS Organizations for creating new accounts by federated users                               | use CloudTrail and look for the federated identity user name                                                                                                       |
| Employees have created individual AWS accounts not under control. Security team need them in AWS Organizations | Send each account an invitation from the central organization                                                                                                      |
| Need to restrict ability to launch specific instance types for a specific team/account                         | Use an organizations SCP to deny launches unless the instance type is T2, create an IAM group in the account granting access to T2 instances to the relevant users |
| Need to test notification settings for CloudWatch alarm with SNS                                               | Use the set-alarm-state CLI command to test                                                                                                                        |
| Need to automatically disable access keys that are greater than 90 days old                                    | Use an AWS Config rule to identify noncompliant keys and use Systems Manager Automation to remediate                                                               |


## Security and Compliance
| Exam Scenario                                                                                                    | Solution                                                                                                                                       |
|------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| Company wishes to force users to change their passwords regularly                                                | Create an IAM password policy and enabled password expiration                                                                                  |
| Need to restrict access to a bucket based on source IP range                                                     | Use bucket policy with “Condition”: “NotIpAddress”: statement                                                                                  |
| Need to control access to group of EC2 instances with specific tags                                              | Use an IAM policy with a condition element granting access based on the tag and attach an IAM policy to the user or groups that require access |
| IAM policy for SQS queue allows too much access. Who is responsible for correcting the issue?                    | According the AWS shared responsibility mode, this is a customer responsibility                                                                |
| Data is encrypted with AWS KMS customer-managed CMKs. Need to enable rotation ensuring the data remains readable | Just enable key rotation in AWS KMS for the CMK (backing key is rotated, data key is not changed)                                              |


### Flash Cards

<iframe src="https://quizlet.com/141519073/match/embed?i=3e5qu1&x=1jj1" height="500" width="100%" style="border:0"></iframe>
https://quizlet.com/_2c98td?x=1jqt&i=3e5qu1


# Resources

- [AWS Study Files - Nextcloud Hosted](https://nextcloud.commsnet.org/index.php/s/Mfs6FAnmyPwcNzq)

- [https://www.aws.training/certification](https://www.aws.training/certification)

- [https://aws.amazon.com/certification/certified-sysops-admin-associate/](https://aws.amazon.com/certification/certified-sysops-admin-associate/)

- https://expeditedsecurity.com/aws-in-plain-english/
[https://www.reddit.com/r/WGU/comments/ko0m1q/c924_cloud_deployment_and_operations_class_tips/](https://www.reddit.com/r/WGU/comments/ko0m1q/c924_cloud_deployment_and_operations_class_tips/)

- [https://tutorialsdojo.com/aws-certified-sysops-administrator-associate/](https://tutorialsdojo.com/aws-certified-sysops-administrator-associate/)

- [https://www.udemy.com/course/ultimate-aws-certified-sysops-administrator-associate/](https://www.udemy.com/course/ultimate-aws-certified-sysops-administrator-associate/)

- [https://www.pluralsight.com/courses/aws-sysops-admin-associate-exam](https://www.pluralsight.com/courses/aws-sysops-admin-associate-exam)

- [Great Study Video](https://nextcloud.commsnet.org/index.php/s/5sZ6midQH4C7eiC)

- [A Cloud Guru Live:  AWS Exam Question Walkthrough (Certified SysOps Administrator - Associate) - Youtube Link](https://www.youtube.com/watch?v=Tm1wBx0paAs)

- [AWS Certification Guide - Youtube Link](https://www.youtube.com/watch?v=Oi1r3e8y2jg)

- [7-day Free Trial study session](https://www.youtube.com/redirect?event=live_chat&redir_token=QUFFLUhqbGhKa01FQ1lXZll6Ui1MeF9mamVGWlI0a2xJd3xBQ3Jtc0tteGJwTXBmNExhNVdfWUNTYndkTlZROFlrbXdKbzFzZHlkb1lvbEtqdkFZYnQwSEItWDRaM3gyd1hYU0x4dmdaeHpzRjE0OGpqdzlvcnFMZklSVE1rS1kxSEU2U0NFaXZXQktlX2tzQ3BJaG9aQ3NFNA&q=https%3A%2F%2Fbit.ly%2FSysOpsfreeplan)

# Tips and Tricks
Completion of C924 requires you to pass the AWS SysOps Associate certification. 


## Know the following


-   Using a Security Role or Group is more secure (and better IT practice in general) than sharing an account or embedding credentials in a script.
    
-   Route 53, knowing when you can use Alias vs CNAME records.
    
-   If you want to use a bucket as a static website, it must have the same name as the domain and security groups configured correct
    
-   Generally the most "outward facing service" will hold the logs for a service. If you are trying to trace HTTP logs for a bucket behind a CloudFront distribution, the logs will be in CloudWatch logs.
    
-   Are the logs for so and so in CloudWatch, CloudTrail, AWS Config, or etc?
    
-   Ugh. Stacks, Stack Sets, Embedded Stacks, or maybe just create a whole new stack bro.
    
-   Change Sets, AWS Config, AWS Organizations
    
-   AMI names are not shared among all regions
    
-   Look at this config for this security group or whatever, what is allowed to access what.


